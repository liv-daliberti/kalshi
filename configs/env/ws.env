DATABASE_URL=postgresql://kalshi@127.0.0.1:55432/kalshi
SERVICE_GUARDRAILS=1
SERVICE_ENV_GUARDRAILS=warn
# SERVICE_ENV_ALLOW_PREFIXES=DATABASE_URL_
# SERVICE_ENV_ALLOW_KEYS=AZURE_OPENAI_API_KEY
DB_INIT_SCHEMA=0
SERVICE_HEALTH_PORT=8102
LOG_LEVEL=INFO
LOG_WS_LEVEL=INFO
LOG_DIR=/n/fs/similarity/kalshi/kalshi_ingestor/log
LOG_STDOUT=1
WS_FAILURE_THRESHOLD=5
WS_FAILURE_COOLDOWN_SECONDS=60

# Keep secrets scoped to this service (no RAG_* or Azure keys here).
KALSHI_HOST=https://api.elections.kalshi.com/trade-api/v2
KALSHI_API_KEY_ID=ca3a1091-c7d7-41ff-977a-0d384fccd101
KALSHI_PRIVATE_KEY_PEM_PATH=$HOME/.config/kalshi/kalshi_private_key.pem

KALSHI_WS_ENABLE=1
WS_SUB_REFRESH_SECONDS=120
WS_SHARD_COUNT=4
WS_SHARD_ID=0
WS_SHARD_KEY=market
WS_ACTIVE_ROUND_ROBIN=0
WS_ACTIVE_ROUND_ROBIN_STEP=3
WS_BATCH_SIZE=500
WS_DB_BATCH_SIZE=2000
WS_DB_LIFECYCLE_BATCH_SIZE=200
WS_DB_FLUSH_SECONDS=0.25
WS_HEARTBEAT_SECONDS=60
WS_TICK_STALE_SECONDS=120

# Added from .env
MAX_ACTIVE_TICKERS=30000
WS_QUEUE_MAXSIZE=100000
WS_MAX_QUEUE=8192
WS_MAX_SIZE_MB=4
WS_TICK_DEDUP_ENABLE=1
WS_TICK_DEDUP_MAX_AGE_SECONDS=0.25
KALSHI_CANDLE_MIN_INTERVAL_SECONDS=0.2
