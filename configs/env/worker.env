DATABASE_URL=postgresql://kalshi@127.0.0.1:55432/kalshi
SERVICE_GUARDRAILS=1
SERVICE_ENV_GUARDRAILS=warn
# SERVICE_ENV_ALLOW_PREFIXES=DATABASE_URL_
# SERVICE_ENV_ALLOW_KEYS=AZURE_OPENAI_API_KEY
DB_INIT_SCHEMA=0
SERVICE_HEALTH_PORT=8103
HEALTH_WORKER_STALE_SECONDS=60
LOG_LEVEL=INFO
LOG_DIR=/n/fs/similarity/kalshi/kalshi_ingestor/log
LOG_STDOUT=1
WORKER_QUEUE_METRICS_SECONDS=60

# Keep secrets scoped to this service (no RAG_* or Azure keys here).
KALSHI_HOST=https://api.elections.kalshi.com/trade-api/v2
KALSHI_API_KEY_ID=ca3a1091-c7d7-41ff-977a-0d384fccd101
KALSHI_PRIVATE_KEY_PEM_PATH=$HOME/.config/kalshi/kalshi_private_key.pem

STRIKE_PERIODS=hour,day
BACKFILL_EVENT_STATUSES=open,closed,settled
CANDLE_MINUTES_FOR_HOUR=1
CANDLE_MINUTES_FOR_DAY=60
CANDLE_LOOKBACK_HOURS=72

WORK_QUEUE_ENABLE=1
WORK_QUEUE_JOB_TYPES=backfill_market
WORK_QUEUE_NAME_BACKFILL_MARKET=kalshi.ingest
WORK_QUEUE_PUBLISH=0
RABBITMQ_URL=amqp://guest:guest@localhost:5672/
# Keep WORK_QUEUE_NAME aligned with the job-specific queue name.
WORK_QUEUE_NAME=kalshi.ingest
WORK_QUEUE_PREFETCH=4
WORK_QUEUE_POLL_SECONDS=10
WORK_QUEUE_RETRY_SECONDS=60
WORK_QUEUE_LOCK_TIMEOUT_SECONDS=900
WORK_QUEUE_MAX_ATTEMPTS=5
WORK_QUEUE_CLEANUP_HOURS=24

# Added from .env
BACKFILL_SECONDS=900
KALSHI_WS_ENABLE=1
KALSHI_CANDLE_MIN_INTERVAL_SECONDS=0.2
WORK_QUEUE_WORKERS=80
