DATABASE_URL=postgresql://kalshi@127.0.0.1:55432/kalshi
DATABASE_URL_REST=postgresql://kalshi@127.0.0.1:55432/kalshi
DATABASE_URL_WS=postgresql://kalshi@127.0.0.1:55432/kalshi
DATABASE_URL_WORKER=postgresql://kalshi@127.0.0.1:55432/kalshi
DATABASE_URL_RAG=postgresql://kalshi@127.0.0.1:55432/kalshi
DATABASE_URL_PORTAL=postgresql://kalshi@127.0.0.1:55432/kalshi

# Added from .env
DB_INIT_SCHEMA=0
PGDATA_HOST=/tmp/kalshi_pgdata_od2961
POSTGRES_MAX_CONNECTIONS=600
KALSHI_HOST=https://api.elections.kalshi.com/trade-api/v2
KALSHI_API_KEY_ID=ca3a1091-c7d7-41ff-977a-0d384fccd101
KALSHI_PRIVATE_KEY_PEM_PATH=$HOME/.config/kalshi/kalshi_private_key.pem
STRIKE_PERIODS=hour,day
DISCOVERY_EVENT_STATUSES=open
BACKFILL_EVENT_STATUSES=open,closed,settled
DISCOVERY_SECONDS=60
WS_SUB_REFRESH_SECONDS=120
BACKFILL_SECONDS=900
CLOSED_CLEANUP_SECONDS=3600
CLOSED_CLEANUP_EVENT_STATUSES=closed,settled
CLOSED_CLEANUP_GRACE_MINUTES=30
PREDICTION_ENABLE=1
PREDICTION_POLL_SECONDS=60
PREDICTION_INTERVAL_HOUR_MINUTES=10
PREDICTION_INTERVAL_DAY_MINUTES=30
PREDICTION_HANDLER=src.rag.rag_handler:predict_event
AZURE_OPENAI_ENDPOINT=https://liv.cognitiveservices.azure.com
AZURE_OPENAI_API_KEY=<azure-openai-api-key>
AZURE_OPENAI_API_VERSION=2025-01-01-preview
AZURE_OPENAI_EMBEDDING_API_VERSION=2023-05-15
RAG_LLM_DEPLOYMENT=gpt-4o
RAG_EMBEDDING_DEPLOYMENT=text-embedding-3-large
RAG_EMBEDDING_DIM=384
RAG_EMBEDDING_MODEL=azure-embedding
RAG_EMBEDDING_SPACE=azure-openai
RAG_VECTOR_SPACE=cosine
RAG_TOP_K=8
RAG_DOC_LIMIT=200
RAG_USE_BASELINE=1
RAG_EMBEDDING_HANDLER=src.rag.rag:embed_texts
RAG_LLM_HANDLER=src.rag.rag:predict_market
RAG_AZURE_CONFIG_PATH=./configs/rag_azure.yml
CANDLE_MINUTES_FOR_HOUR=1
CANDLE_MINUTES_FOR_DAY=60
CANDLE_LOOKBACK_HOURS=72
MAX_ACTIVE_TICKERS=30000
WS_BATCH_SIZE=500
WS_DB_BATCH_SIZE=2000
WS_DB_LIFECYCLE_BATCH_SIZE=200
WS_DB_FLUSH_SECONDS=0.25
WS_QUEUE_MAXSIZE=100000
WS_MAX_QUEUE=8192
WS_MAX_SIZE_MB=4
WS_SHARD_COUNT=4
WS_SHARD_ID=0
WS_SHARD_KEY=market
WS_ACTIVE_ROUND_ROBIN=0
WS_ACTIVE_ROUND_ROBIN_STEP=3
WS_TICK_DEDUP_ENABLE=1
WS_TICK_DEDUP_MAX_AGE_SECONDS=0.25
KALSHI_WS_ENABLE=1
KALSHI_CANDLE_MIN_INTERVAL_SECONDS=0.2
WORK_QUEUE_ENABLE=1
RABBITMQ_URL=amqp://guest:guest@localhost:5672/
WORK_QUEUE_NAME=kalshi.ingest
WORK_QUEUE_PREFETCH=4
WORK_QUEUE_POLL_SECONDS=10
WORK_QUEUE_RETRY_SECONDS=60
WORK_QUEUE_LOCK_TIMEOUT_SECONDS=900
WORK_QUEUE_MAX_ATTEMPTS=5
WORK_QUEUE_CLEANUP_HOURS=24
WORK_QUEUE_PUBLISH=0
WORK_QUEUE_WORKERS=80
LOG_LEVEL=INFO
LOG_WS_LEVEL=INFO
WEB_PORTAL_HOST=0.0.0.0
WEB_PORTAL_PORT=8123
WEB_PORTAL_THREADS=4
WEB_DB_POOL_MIN=4
WEB_DB_POOL_MAX=32
WEB_DB_POOL_TIMEOUT=10
WEB_PORTAL_PASSWORD=VQkiBXtVPETORIBhdpKeEHcr8oJyin-h
WEB_PORTAL_SECRET_KEY=vBSORA3CmVphIQpCtArfgd-PeZashpAXajwOWVprsUH1Nbd1H8XdT-ldKbk-U2vn
WEB_PORTAL_TRUST_PROXY=1
WEB_PORTAL_COOKIE_SAMESITE=None
WEB_PORTAL_COOKIE_SECURE=1
WEB_PORTAL_DATA_CACHE_SEC=5
WEB_PORTAL_DB_SNAPSHOT_ENABLE=0
WEB_PORTAL_DB_SNAPSHOT_REFRESH_SEC=60
WEB_PORTAL_DB_SNAPSHOT_REFRESH_ON_QUEUE=0
WEB_PORTAL_BACKFILL_MODE=queue
WEB_PORTAL_SNAPSHOT_POLL_ENABLE=1
WEB_PORTAL_SNAPSHOT_POLL_LIMIT=50
WEB_PORTAL_SNAPSHOT_POLL_INTERVAL_SEC=120
WEB_PORTAL_SNAPSHOT_MIN_AGE_SEC=120
WEB_PORTAL_SNAPSHOT_POLL_DELAY_MS=250
WEB_PORTAL_SNAPSHOT_POLL_COOLDOWN_SEC=60
WEB_PORTAL_CANDLE_AUTO_REFRESH_SECONDS=900
WEB_PORTAL_EVENT_AUTO_SNAPSHOT_SEC=120
WEB_PORTAL_EVENT_SNAPSHOT_LIMIT=3
WEB_PORTAL_MARKET_METADATA_FETCH=0
WEB_PORTAL_WS_LAG_ALERT_SECONDS=30
WEB_PORTAL_WS_LAG_ALERT_COOLDOWN_SECONDS=60
