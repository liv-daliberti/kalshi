DATABASE_URL=postgresql://kalshi@127.0.0.1:55432/kalshi
SERVICE_GUARDRAILS=1
SERVICE_ENV_GUARDRAILS=warn
# SERVICE_ENV_ALLOW_PREFIXES=DATABASE_URL_
# SERVICE_ENV_ALLOW_KEYS=AZURE_OPENAI_API_KEY
DB_INIT_SCHEMA=0
LOG_LEVEL=INFO
LOG_DIR=/n/fs/similarity/kalshi/kalshi_ingestor/log
LOG_STDOUT=1

WEB_PORTAL_HOST=0.0.0.0
WEB_PORTAL_PORT=8123
WEB_PORTAL_THREADS=4
WEB_DB_POOL_MIN=4
WEB_DB_POOL_MAX=32
WEB_DB_POOL_TIMEOUT=10
WEB_PORTAL_PASSWORD=VQkiBXtVPETORIBhdpKeEHcr8oJyin-h
WEB_PORTAL_SECRET_KEY=vBSORA3CmVphIQpCtArfgd-PeZashpAXajwOWVprsUH1Nbd1H8XdT-ldKbk-U2vn
WEB_PORTAL_TRUST_PROXY=1
WEB_PORTAL_COOKIE_SAMESITE=None
WEB_PORTAL_COOKIE_SECURE=1
WEB_PORTAL_DATA_CACHE_SEC=60
WEB_PORTAL_EVENT_DETAIL_CACHE_SEC=60
WEB_PORTAL_MARKET_DETAIL_CACHE_SEC=60
WEB_PORTAL_STATIC_CACHE_MAX_AGE_SEC=3600
WEB_PORTAL_STATIC_CACHE_MAX_AGE_SEC=3600
WEB_PORTAL_DB_SNAPSHOT_ENABLE=0
WEB_PORTAL_DB_SNAPSHOT_REFRESH_SEC=60
WEB_PORTAL_DB_SNAPSHOT_REFRESH_ON_QUEUE=0

# Backfill control for the portal (default disabled).
WEB_PORTAL_BACKFILL_MODE=queue

# Health staleness thresholds (seconds).
WEB_PORTAL_DISCOVERY_STALE_SECONDS=3600
WEB_PORTAL_BACKFILL_STALE_SECONDS=1800
WEB_PORTAL_WS_STALE_SECONDS=120
WEB_PORTAL_RAG_STALE_SECONDS=300

# Added from .env
KALSHI_HOST=https://api.elections.kalshi.com/trade-api/v2
KALSHI_API_KEY_ID=ca3a1091-c7d7-41ff-977a-0d384fccd101
KALSHI_PRIVATE_KEY_PEM_PATH=$HOME/.config/kalshi/kalshi_private_key.pem
KALSHI_WS_ENABLE=1
KALSHI_CANDLE_MIN_INTERVAL_SECONDS=0.2
WEB_PORTAL_SNAPSHOT_POLL_ENABLE=1
WEB_PORTAL_SNAPSHOT_POLL_LIMIT=50
WEB_PORTAL_SNAPSHOT_POLL_INTERVAL_SEC=120
WEB_PORTAL_SNAPSHOT_MIN_AGE_SEC=120
WEB_PORTAL_SNAPSHOT_POLL_DELAY_MS=250
WEB_PORTAL_SNAPSHOT_POLL_COOLDOWN_SEC=60
WEB_PORTAL_CANDLE_AUTO_REFRESH_SECONDS=900
WEB_PORTAL_EVENT_AUTO_SNAPSHOT_SEC=120
WEB_PORTAL_EVENT_SNAPSHOT_LIMIT=3
WEB_PORTAL_MARKET_METADATA_FETCH=0
WEB_PORTAL_WS_LAG_ALERT_SECONDS=30
WEB_PORTAL_WS_LAG_ALERT_COOLDOWN_SECONDS=60
